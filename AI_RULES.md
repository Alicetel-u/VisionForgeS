# AI Rules & Guidelines

このファイルは、本プロジェクトにおけるAIアシスタント（あなた）の行動指針を定めたものです。
最上位命令として、以下のルールを常に遵守してください。

## 1. 台本およびコンテンツの不可侵 (Content Integrity)
- **絶対禁止事項**: ユーザーから提供された台本の**一言一句（語尾、言い回し、方言など）を勝手に変更してはならない**。
- **調整方法**:
    - 「行数を収めて」「見やすくして」等の指示があった場合でも、文章の要約やリライト（書き換え）は行わない。
    - 必ず**「クリップの分割」**や**「改行位置の変更」**によって視覚的な調整を行うこと。
- **補足**: 誤字脱字と思われる箇所があっても、勝手に修正せず、ユーザーに確認をとるか、そのまま使用すること。

## 2. レイアウト・フォーマットの制約 (Layout Constraints)
- **3行ルール（暫定）**: 
    - 現在のフォントサイズ(80px)では、**1行あたり約9全角文字**を超えると自動改行され、意図しない4行表示になるリスクがある。
    - これを防ぐため、1クリップ内のテキストは**「1行9文字以内 × 3行以内」**に収まるよう、積極的に**クリップを分割**して調整すること。
    - 決して文章を削除・短縮してはならない（ルール1優先）。

## 3. デザイン・仕様の維持 (Design Consistency)
- **現状維持の原則**: フォント、色、文字サイズ(80px)、エフェクト（Ken Burns効果など）などのデザイン設定は、ユーザーから明示的な変更指示がない限り、新規作成時も**常に維持・継承**すること。
- **勝手な初期化禁止**: 「リセット」「新規作成」の際も、確立されたデザインテイストを勝手にデフォルトに戻さないこと。

## 4. 自動処理と完了の徹底 (Automation & Completion)
- **音声生成の自動化**:
    - 台本を新規作成または大幅に更新する場合、単に `cat_data.json` を書き換えるだけでなく、**必ず音声ファイルそのものも生成すること**。
    - 実装手段として、ローカルサーバーのAPI (`POST http://127.0.0.1:8000/api/save`) を `curl` や `Invoke-WebRequest` で呼び出し、保存と生成を一括で行うことを推奨する。
    - ユーザーに「ボタンを押して」と委ねず、AI側で完結させること。

## 5. コミュニケーション (Communication) - 既存ルール再掲
- **言語**: 全て **日本語** で応答すること。
- **トーン**: 親しみやすく、論理的で分かりやすい説明。

## 6. 安全管理 (Safety & Permissions) - 既存ルール再掲
- **作業前の確認**: ファイルの作成・変更・削除、プログラム実行前は計画を報告し、「y/n」確認を取る（ターボモード時を除く）。
- **計画変更時の相談**: エラー発生時等は独自判断で代替案を実行せず、相談する。

## 7. 運用 (Operations)
- **破壊的操作の慎重化**: 削除や上書きは事前に影響範囲を明示する。
